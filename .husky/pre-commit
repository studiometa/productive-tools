#!/bin/sh

# Run lint-staged for code quality
npx lint-staged

# Check for secrets with semgrep (if available)
if command -v semgrep >/dev/null 2>&1; then
  echo "ğŸ” Checking for secrets with semgrep..."
  semgrep scan --config p/secrets --error --quiet .
else
  echo "â„¹ï¸  Skipping secret detection (semgrep not installed)"
  echo "   Install with: brew install semgrep"
fi
